<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="notes_canvas.css">
  <title>Canvas notes</title>
</head>
<body>
  <h1>Canvas notes</h1>


  <h2>Свързване на canvas към JS</h2>
  <p>
     <span class="kw">var</span>
     <span class="htm">theCanvas</span>
      =
     <span class="htm">document</span>.<span class="fnc">getElementById</span>(<span class="val">'Canvas1'</span>);
  </p>
  <p>
    <span class="kw">var</span>
    ctx =
    <span class="htm">theCanvas</span>.<span class="fnc">getContext</span>(<span class="val">"2d"</span>);
  </p>

  <h2>Свойства на canvas</h2>
  <p>
    theCanvas.<span class="prop">width</span> = <span class="val">400</span>;
    - задава широчината на платното
  </p>

  <p>
      theCanvas.<span class="prop">height</span> = <span class="val">200</span>;
      - задава височината на платното
  </p>

  <p>
    ctx.<span class="prop">canvas.width</span>
    - съхранява широчината на платното
  </p>

  <p>
    ctx.<span class="prop">canvas.height</span>
    - съхранява височина на платното
  </p>

  <h2>Цвят на контур и запълване, широчина на линия</h2>
  <p>
     ctx.<span class="prop">strokeStyle</span> =
     <span class="val">"#ccc"</span>
     - задава цвят на контура. Стойността трябва да е кавички
  </p>

  <p>
     ctx.<span class="prop">fillStyle</span> =
     <span class="val">"rgba(r, g, b, a)"</span>
     - задава цвят на запълването.
  </p>

  <p>
    ctx.<span class="prop">lineWidth</span> =
    <span class="val">5</span>
    - задава широчина на линията
  </p>


  <h2>Рисуване на правоъгълник</h2>
  <p>
    ctx.<span class="prop">clearRect(x, y, w, h)</span>
    - трие съдържанието в границите на правоъгълника
  </p>
  <p>
    ctx.<span class="prop">fillRect(x, y, w, h)</span>
    - чертае запълнен провоъгълник
  </p>
  <p>
    ctx.<span class="prop">strokeRect(x, y, w, h)</span>
    - чертае правоъгълник
  </p>


  <h2>Рисуване на линии</h2>


  <p>
    ctx.<span class="prop">lineWidth</span>
    = <span class="val">5</span>
    - задава широчина на линията в пиксели
  </p>

  <p>
    ctx.<span class="prop">lineCap</span>
    = <span class="val">"butt/round/square";</span>
    - указва как да завършва линията butt is default
  </p>

  <p>
    ctx.<span class="prop">lineJoin</span>
    = <span class="val">"round/bevel/miter</span>(default)<span class="val">";</span>
    - указва как се свързват краищата на линиите
  </p>

  <p>
    ctx.<span class="prop">miterLimit</span>
    = <span class="val">10;</span>
    - указва граница на скосяване 10 is default value
  </p>

  <p>
    ctx.<span class="prop">beginPath()</span>
    - с това започва изчертаване на линия
  </p>

  <p>
    ctx.<span class="prop">moveTo(x, y)</span>
    - премества молива в указаната точка
  </p>

  <p>
    ctx.<span class="prop">lineTo(x, y)</span>
    - чертае линия от текущата точка до точката указана с x и y
  </p>

  <p>
    ctx.<span class="prop">stroke()</span>
    - изчертава всичко зададено след beginPath()
  </p>

  <h2>Състояние на настройките за рисуване</h2>
  <p>
    ctx.<span class="prop">save()</span>
    - съхранява текущите стойности на свойствата на контекста
  </p>
  <p>
    ctx.<span class="prop">restore()</span>
    - възстановява от стека оригиналния контекст, записан със save()
  </p>

  <h2>Рисуване на контури (paths)</h2>
  <p>
    ctx.<span class="prop">beginPath()</span>
    - с това започва дефинициите на контура
  </p>

  <p>
    ctx.<span class="prop">closePath()</span>
    - затваря контура (свързва с линия началната и крайната точки на контура)
  </p>

  <p>
    ctx.<span class="prop">fill()</span>
    - запълва контура
  </p>

  <p>
    ctx.<span class="prop">stroke()</span>
    - изчертава контура (линиите и дъгите зададени след beginPath())
  </p>

  <p>
    Ако fill() е след stroke(), запълването ще покрива контура и линията ще
    изглежда по-тънка
  </p>

  <h2>Рисуване на дъги (arcs)</h2>
  <p>
    ctx.<span class="prop">beginPath()</span>
    - начало на дефинициите на дъгата
  </p>

  <p>
    ctx.<span class="prop">closePath()</span>
    - затваря дъгата (свързва с линия началната и крайната точки на дъгата)
  </p>

  <p>
    ctx.<span class="prop">fill()</span>
    - запълва дъгата
  </p>

  <p>
    ctx.<span class="prop">stroke()</span>
    - изчертава дъгите зададени след beginPath())
  </p>

  <p>
    ctx.<span class="prop">arcТо(x1, y1, x2, y2, r)</span>,
    където x1, y1 - свободната точка на тангентата, x2, y2 - допирателната точка
    към тангентата на дъгата,  r - радиус
  </p>

  <p>
    ctx.<span class="prop">arc(x, y, r, sA, eA, cCW)</span>,
    където x и y - координати на центъра,  r - радиус, sA - от ъгъл,
    еА - до ъгъл, cCW - counterClockWise посока на завъртане (false is default)
  </p>

  <p>
    <span class="org">ВАЖНО!!!</span> За разлика от математиката
    тук положителната посока съвпада с посоката на въртене на часовниковата
    стрелка. Това е заради посоката на оста Y, която е насочена надолу.
    Така всички математически зависимости се запазват и не e нужно да се прилага
    трансформация на координатите (y = -1 * yo). 0 rad е на същото място както в
    математиката (т.е. на 3 часА), но PI/2 е на 6 часа т.е. на мястото на 3*PI/2
    (270 deg).
  </p>

  <h2>Криви на Безие и квадратични криви</h2>
  <p>
    ctx.<span class="prop">bezierCurveTo(x1, y1, x2, y2, x3, y3)</span>
    - чертае крива на Безие с начална точка текущата позиция на молива, крайна
    точка x3, y3, първа контролна точка x1, y1 и втора контролна точка x2, y2
  </p>
  <p>
    ctx.<span class="prop">quadraticCurveTo(x1, y1, x3, y3)</span>
    - чертае квадратична крива с начална точка текущата позиция на молива, крайна
    точка x3, y3 и контролна точка x1, y1
    <p>
      ctx.<span class="prop">beginPath()</span>
      - начало на дефиницията на кривата
    </p>

    <p>
      ctx.<span class="prop">closePath()</span>
      - затваря кривата (свързва с линия началната и крайната точки на кривата)
    </p>

    <p>
      ctx.<span class="prop">fill()</span>
      - запълва кривата
    </p>

    <p>
      ctx.<span class="prop">stroke()</span>
      - изчертава кривата
    </p>
  </p>

</body>
</html>
