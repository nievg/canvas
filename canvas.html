<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Canvas - уроци от Linda.com</title>
  <style media="screen">
    *{margin:0; padding:0;}
    h2{margin-top: 30px;}
    body{background: #ccc; padding-left:20px;}
    canvas{border: 1px solid red;}
    #Canvas1{
      border: dotted 3px black;
      background: lightGray;
    }
  </style>
  <script type="text/javascript">
    window.onload = function(){
      var theCanvas = document.getElementById('Canvas1');
      theCanvas.width = 500;
      theCanvas.height = 200;
      if(theCanvas && theCanvas.getContext){
        var ctx = theCanvas.getContext("2d");
        if(ctx){
          ctx.fillStyle = "#aaa";
          ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
          ctx.fillStyle = "#dfd";
          ctx.fillRect(20, 20, 100, 100);
          ctx.lineWidth = 5;
          ctx.strokeStyle = "rgba(255, 192, 192, 0.7)";
          ctx.strokeRect(20, 20, 100, 100);
        }
      }

      var canvas2 = document.getElementById("canvas2");
      ctx = canvas2.getContext("2d");
      ctx.strokeRect(1, 1, ctx.canvas.width-1, ctx.canvas.height-1);

      ctx.strokeStyle = "blue";
      ctx.lineWidth = 5;
      ctx.strokeRect(25, 25, 100, 125);

      ctx.fillStyle = "green";
      ctx.fillRect(175, 25, 100, 125);

      ctx.fillStyle = "yellow";
      ctx.strokeStyle = "red";
      ctx.lineWidth = 10;
      ctx.fillRect(325, 25, 100, 125);
      ctx.strokeRect(325, 25, 100, 125);

      ctx.clearRect(15, 75, 450, 50);


      // чертае 10 линии с разлина широчина
      var canvasLines = document.getElementById('canvasLines');
      ctx = canvasLines.getContext('2d');
      for(var i = 0; i < 10; i++){
        ctx.beginPath();
        ctx.lineWidth = i + 1;
        ctx.moveTo(25, 25 + i * 15);
        ctx.lineTo(475, 25 + i * 15);
        ctx.stroke();
      }


      // показва опциите на lineCap
      var canvas3 = document.getElementById('canvas3');
      ctx = canvas3.getContext('2d');
      //draw the guidelines
      ctx.strokeStyle = 'red';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(50, 25);
      ctx.lineTo(50, 175);
      ctx.moveTo(450, 25);
      ctx.lineTo(450, 175);
      ctx.stroke();

      // draw line using each lineCap
      ctx.lineWidth = 25;
      ctx.strokeStyle = 'black';
      ctx.lineCap = 'butt';
      ctx.beginPath();
      ctx.moveTo(50, 50);
      ctx.lineTo(450, 50);
      ctx.stroke();
      ctx.lineCap = 'round';
      ctx.beginPath();
      ctx.moveTo(50, 100);
      ctx.lineTo(450, 100);
      ctx.stroke();
      ctx.lineCap = 'square';
      ctx.beginPath();
      ctx.moveTo(50, 150);
      ctx.lineTo(450, 150);
      ctx.stroke();


// demonstrate each settings of lineJoin
      var canvas4 = document.getElementById('canvas4');
      ctx = canvas4.getContext('2d');

      ctx.lineWidth = 15;
      ctx.strokeStyle = 'black';
      ctx.lineJoin = 'round';
      ctx.beginPath();
      ctx.moveTo(25, 150);
      ctx.lineTo(75, 50);
      ctx.lineTo(125, 150);
      ctx.stroke();
      ctx.lineJoin = 'bevel';
      ctx.beginPath();
      ctx.moveTo(175, 150);
      ctx.lineTo(225, 50);
      ctx.lineTo(275, 150);
      ctx.stroke();
      ctx.lineJoin = 'miter';
      ctx.miterLimit = 3;
      ctx.beginPath();
      ctx.moveTo(325, 150);
      ctx.lineTo(375, 50);
      ctx.lineTo(425, 150);
      ctx.stroke();

//save() and restore()
    var canvas5 = document.getElementById('canvas5');
    ctx = canvas5.getContext('2d');
    ctx.lineWidth = 10;
    ctx.fillStyle = 'yellow';
    ctx.strokeStyle = 'red';

    ctx.save();
    ctx.fillRect(25, 25, 100, 125);
    ctx.strokeRect(25, 25, 100, 125);

    ctx.lineWidth = 5;
    ctx.fillStyle = 'blue';
    ctx.strokeStyle = 'green';
    ctx.fillRect(175, 25, 100, 125);
    ctx.strokeRect(175, 25, 100, 125);

    ctx.restore();
    ctx.fillRect(325, 25, 100, 125);
    ctx.strokeRect(325, 25, 100, 125);

//drawing arcs and paths
    canvas6 = document.getElementById('canvas6');
    ctx = canvas6.getContext('2d');

    var r = Math.PI / 180;
    ctx.lineWidth = 5;
    ctx.fillStyle = 'red';
    ctx.strokeStyle = 'blue';

    ctx.beginPath();
    ctx.arc(100, 100, 80, 0 * r, 60 * r, true);
    ctx.stroke();

    ctx.strokeStyle = 'red';
    ctx.beginPath();
    ctx.arc(100, 100, 80, Math.PI/6, Math.PI/4);
    ctx.stroke();

    ctx.strokeStyle = 'green';
    ctx.beginPath();
    ctx.arc(300, 100, 80, Math.PI/4, 5 * Math.PI/4);
    ctx.closePath();
    ctx.stroke();

    ctx.fillStyle = '#ffc';
    ctx.beginPath();
    ctx.arc(300, 100, 80, 36 * r , 244 * r, true);
    ctx.fill();

    ctx.beginPath();
    ctx.arc(520, 100, 90, 0 , 360 * r);
    ctx.fill();
    ctx.stroke();


//чертаене на контури
    var arcs = document.getElementById('arcs');
    ctx = arcs.getContext('2d');

    ctx.strokeStyle = 'blue';
    ctx.fillStyle = 'red';
    ctx.lineWidth = 5;

    //отворен контур без запълване
    ctx.beginPath();
    ctx.moveTo(20, 175);
    ctx.lineTo(45, 25);
    ctx.lineTo(120, 50);
    ctx.lineTo(170, 175);
    ctx.stroke();

    //затворен контур без запълване
    ctx.beginPath();
    ctx.moveTo(200, 175);
    ctx.lineTo(225, 25);
    ctx.lineTo(300, 50);
    ctx.lineTo(350, 175);
    ctx.closePath();
    ctx.stroke();

    //oтворен контур със запълване
    ctx.beginPath();
    ctx.moveTo(375, 175);
    ctx.lineTo(400, 25);
    ctx.lineTo(475, 50);
    ctx.lineTo(525, 175);
    ctx.fill();
    ctx.stroke();

    //контур само със запълване
    ctx.beginPath();
    ctx.moveTo(540, 175);
    ctx.lineTo(565, 25);
    ctx.lineTo(640, 50);
    ctx.lineTo(690, 175);
    ctx.fill();

//Криви на Безие
    var bezier = document.getElementById('bezier');
    ctx = bezier.getContext('2d');

    ctx.strokeStyle = 'blue';
    ctx.lineWidth = 5;

    ctx.beginPath();
    ctx.moveTo(20, 150);
    ctx.bezierCurveTo(20, 50, 170, 50, 170, 100);
    ctx.stroke();
    //визиализация на контролните точки
    bezierGuides(20, 150, 20, 50, 170, 50, 170, 100);

    ctx.strokeStyle = 'green';
    ctx.fillStyle = '#cfc';
    ctx.lineWidth = 5;
    ctx.beginPath();
    ctx.moveTo(200, 80);
    ctx.bezierCurveTo(230, 190, 350, 50, 350, 150);
    ctx.fill();
    ctx.stroke();
    //визиализация на контролните точки
    bezierGuides(200, 80, 230, 190, 350, 50, 350, 150);

    ctx.strokeStyle = 'yellow';
    ctx.fillStyle = 'rgba(255, 255, 204, 0.5)';
    ctx.lineWidth = 5;
    ctx.beginPath();
    ctx.moveTo(400, 20);
    ctx.bezierCurveTo(550, 144, 440, 180, 680, 150);
    //ctx.closePath();
    ctx.fill();
    ctx.stroke();
    //визиализация на контролните точки
    bezierGuides(400, 20, 550, 144, 440, 180, 680, 150);

    function bezierGuides(xs, ys, x1, y1, x2, y2, xe, ye){
      //визиализация на контролните точки
      ctx.save();
      ctx.strokeStyle = 'red';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(xs, ys);
      ctx.lineTo(x1, y1);
      ctx.lineTo(x2, y2);
      ctx.lineTo(xe, ye);
      ctx.stroke();
      ctx.restore();
    }

// Квадратични криви
    var quadratic = document.getElementById('quadratic');
    ctx = quadratic.getContext('2d');
    //stroke a quadratic curve
    ctx.strokeStyle = 'green';
    ctx.fillStyle = '#cfc';
    ctx.lineWidth = 5;
    ctx.beginPath();
    ctx.moveTo(20, 20)
    ctx.quadraticCurveTo(400, 100, 250, 50);
    ctx.quadraticCurveTo(30, 180, 200, 20)
    ctx.fill();
    //ctx.closePath();
    ctx.stroke();

    ctx.strokeStyle = 'yellow';
    ctx.beginPath();
    ctx.moveTo(400, 180)
    ctx.quadraticCurveTo(440, 80, 600, 150)
    ctx.stroke();

    //визиализация на контролнaтa точкa
    quadraticGuides(20, 20, 400, 100, 250, 50);
    quadraticGuides(250, 50, 30, 180 ,200 ,20);
    quadraticGuides(400, 180, 440, 80, 600, 150);

    function quadraticGuides(xs, ys, xc, yc, xe, ye){
      //визиализация на контролнaтa точкa
      ctx.save();
      ctx.lineWidth = 1;
      ctx.strokeStyle = 'red';
      ctx.beginPath();
      ctx.moveTo(xs, ys);
      ctx.lineTo(xc, yc);
      ctx.lineTo(xe, ye);
      ctx.stroke();
      ctx.restore();
    }

//Работа с текст
    var cnvtxt = document.getElementById('cnvtxt');
    ctx = cnvtxt.getContext('2d');

    ctx.fillText('Текст с настройки по подразбиране (10pt black)', 10, 10);
    ctx.strokeText('Текст с настройки по подразбиране (10pt black)', 10, 20);

    ctx.font = '25pt Georgia';
    ctx.fillStyle = 'green';
    ctx.fillText('25pt Georgia green', 10, 48);
    ctx.strokeStyle = 'rgba(0 192, 0, 0.5)';
    ctx.strokeText('25pt Georgia rgba', 10, 140);
    ctx.font = '25pt Verdana red';
    ctx.fillStyle = 'red';
    ctx.fillText('25 pt Verdana red', 10, 180);

    //Бзова линия за txtBaseline
    ctx.strokeStyle = '#f00';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(410, 140);
    ctx.lineTo(695, 140);
    ctx.stroke();

    ctx.font ='18pt Ariel';

    ctx.fillStyle = '#000';
    ctx.fillText('textBaseline', 280, 140, 240);
    ctx.fillStyle = '#900';
    ctx.fillText('alphabetic', 405, 140);
    ctx.fillStyle = 'red';
    ctx.textBaseline = 'top';
    ctx.fillText('top', 505, 140);
    ctx.textBaseline = 'middle';
    ctx.fillStyle = 'green';
    ctx.fillText('middle', 550, 140);
    ctx.textBaseline = 'bottom';
    ctx.fillStyle = 'blue';
    ctx.fillText('bottom', 625, 140);

    ctx.textBaseline = 'alphabetic';
    ctx.font = '60px Menlo, Consolas, DejaVu Sans Mono, monospace';
    ctx.fillStyle = 'yellow';
    ctx.strokeStyle = '#000';
    ctx.textAlign = 'center';
    ctx.fillText('Здравейте', cnvtxt.width/2, cnvtxt.height/2);
    ctx.strokeText('Здравейте', cnvtxt.width/2, cnvtxt.height/2);

//Сенки (creating shadows)
    var shadows = document.getElementById('shadows');
    ctx = shadows.getContext('2d');
    //Сянка от правоъгълник
    ctx.shadowBlur = 10;
    ctx.shadowColor = '#000';
    ctx.shadowOffsetX = 10;
    ctx.shadowOffsetY = 10;
    ctx.fillStyle = 'rgba(0, 0, 255, 1)';
    ctx.fillRect(20, 20, 200, 100);
    //Сянка под текст
    ctx.fillStyle = 'green';
    ctx.shadowColor = 'rgba(0, 100, 100, 0.7)';
    ctx.shadowBlur = 5;
    ctx.shadowOffsetX = 5;
    ctx.shadowOffsetY = 5;
    ctx.font = '25pt Georgia';
    ctx.fillText('Здравейте', 250, 50);
    //Сянка под линия
    ctx.lineCap = 'round';
    ctx.lineWidth = 25;
    ctx.shadowColor = 'rgba(150, 0, 150, 0.5)';
    ctx.shadowBlur = 15;
    ctx.shadowOffsetX = -15;
    ctx.shadowOffsetY = -15;
    ctx.strokeStyle = 'red';
    ctx.beginPath();
    ctx.moveTo(250, 100);
    ctx.lineTo(450, 100);
    ctx.stroke();
    //free tests
    ctx.lineWidth = 15;
    ctx.strokeStyle = 'red';
    ctx.shadowColor = 'rgba(150, 0, 150, 0.4)';
    ctx.shadowBlur = 15;
    ctx.shadowOffsetX = -8;
    ctx.shadowOffsetY = -8;
    ctx.beginPath();
    ctx.moveTo(20, 170);
    ctx.lineTo(120, 170);
    ctx.stroke();

    ctx.strokeStyle = 'green';
    ctx.shadowColor = 'rgba(0, 100, 0, 0.5)';
    ctx.shadowOffsetX = 10;
    ctx.shadowOffsetY = 10;
    ctx.shadowBlur = 8;
    ctx.beginPath();
    ctx.moveTo(150, 170);
    ctx.lineTo(250, 170);
    ctx.stroke();

    ctx.strokeStyle = 'blue';
    ctx.shadowColor = 'rgba(0, 0, 100, 0.5)';
    ctx.shadowOffsetX = -5;
    ctx.shadowOffsetY = -5;
    ctx.shadowBlur = 8;
    ctx.beginPath();
    ctx.moveTo(280, 170);
    ctx.lineTo(380, 170);
    ctx.stroke();

    //сенки и текстове
    ctx.font = "20pt Sans-serif";
    ctx.fillStyle = '#000';
    ctx.fillText('blur x y opacity', 500, 30);
    ctx.fillStyle = 'red';
    ctx.fillText('8 -5,-5 trans .5', 500, 70);

    ctx.fillStyle = 'green';
    ctx.shadowColor = 'rgba(50, 50, 500, 0.9)';
    ctx.shadowBlur = 5;
    ctx.shadowOffsetX = 5;
    ctx.shadowOffsetY = 0;
    ctx.fillText('5 5 0 ops .9', 500, 110);

    ctx.fillStyle = 'blue';
    ctx.shadowColor = 'rgba(20, 20, 20, 0.9)';
    ctx.shadowBlur = 3;
    ctx.shadowOffsetX = 5;
    ctx.shadowOffsetY = 3;
    ctx.fillText('3 5 3 ops .9', 500, 150);

    ctx.fillStyle = 'yellow';
    ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
    ctx.shadowBlur = 5;
    ctx.shadowOffsetX = 0;
    ctx.shadowOffsetY = 5;
    ctx.fillText('5 0 5 ops .5', 500, 190);

//Patterns
  var patterns = document.getElementById('patterns');
  ctx = patterns.getContext('2d');

  var img = new Image();
  img.src = 'resources/lamp_24.png';
  img.onload = function(){
    ctx.strokeStyle = 'green';
    ctx.lineWidth = 1;
    ctx.fillStyle = ctx.createPattern(img, 'repeat-y');
    ctx.fillRect(  10, 10, 200, 100);
    ctx.strokeRect(10, 10, 200, 100);
    ctx.fillStyle = ctx.createPattern(img, 'repeat-x');
    ctx.fillRect(  220, 10, 100, 180);
    ctx.strokeRect(220, 10, 100, 180);
    ctx.fillStyle = ctx.createPattern(img, 'repeat');
    ctx.fillRect(10, 120, 200, 70);
    ctx.strokeRect(10, 120, 200, 70);
  }
  var img2 = new Image();
  img2.src = 'resources/lamp_16.png';
  img2.onload = function(){
    ctx.lineWidth = 8;
    ctx.strokeStyle = ctx.createPattern(img2, 'repeat');
    ctx.strokeRect(340, 10, 100, 100);
  }

  //shablon
  var shablon = document.getElementById('shablon'),
      ctx1 = shablon.getContext('2d');
      ctx1.fillStyle = '#f0f033';//'#e5c07b';
      ctx1.fillRect(0, 0, 25, 25);
      ctx1.strokeStyle = '#700';//'#282c34';
      ctx1.lineWidth = 10;
      ctx1.moveTo(0, 0);
      ctx1.lineTo(25, 25);
      ctx1.stroke();

      ctx.strokeStyle = ctx.createPattern(shablon, 'repeat');
      ctx.lineWidth = 10;
      ctx.strokeRect(490, 13, 200, 120);
      //ctx.strokeRect(5, 5, 690, 190);



  }
  </script>
</head>
<body>

<h2>First canvas example</h2>
<canvas id="Canvas1" width="400" height="300">
  Този текст се покзва, само ако браузъра не поддържа canvas (Fallback content)
</canvas><br/>

<h2>Чертане на правоъгълници</h2>
<canvas id="canvas2" width="500" height="200"></canvas>

<h2>Drawing Lines</h2>
<canvas id="canvasLines" width="500" height="200"></canvas>

<h2>Diferent settings for lineCap</h2>
<canvas id="canvas3" width="500" height="200"></canvas>

<h2>Diferent settings for lineJoin</h2>
<canvas id="canvas4" width="500" height="200"></canvas>

<h2>save() and restore()</h2>
<canvas id="canvas5" width="500" height="200"></canvas>

<h2>Drawing arcs(дъги) and paths(контури)</h2>
<canvas id="canvas6" width="700" height="200"></canvas>

<h2>Drawing paths(контури)</h2>
<canvas id="arcs"    width="700" height="200"></canvas>

<h2>Криви на Безие</h2>
<canvas id="bezier"  width="700" height="200"></canvas>

<h2>Квадратични криви</h2>
<canvas id="quadratic" width="700" height="200"></canvas>

<h2>Работа с текст</h2>
<canvas id="cnvtxt"   width="700" height="200"></canvas>

<h2>Сенки (shadows)</h2>
<canvas id="shadows" width="700" height="200"></canvas>

<h2>Шаблони (patterns)</h2>
<canvas id="patterns" width="700" height="200"></canvas>
<canvas id="shablon" width="25" height="25" style="display: none;"></canvas>

</body>
</html>
